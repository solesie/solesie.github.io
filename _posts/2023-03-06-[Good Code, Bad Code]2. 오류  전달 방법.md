---
title: "[Good Code, Bad Code]2.오류 전달 방법"
excerpt: "복구 가능성과 오류 전달"

categories:
  - Good Code, Bad Code
tags:
  - Good Code, Bad Code
  - 좋은 코드, 나쁜 코드
  - 오류
  - 예외
last_modified_at: 2023-03-20
toc: true
toc_sticky: true
---

개인적으로 정말 골치아픈 부분인 듯 하다.  

개인적으로 작은 프로젝트를 할 때 조차 어느 층위에서 오류를 복구할 것인지 결정하는 것도 어려웠다. 

널 오류, 널 객체, 비검사 예외... 등을 상황에 맞게 고려하기란 꽤 번거롭다.

이번 포스팅에서는 java에 맞게 적을 것이고, null 을 잘 다루는 법에 대해도 적어볼 것이다.

# 1. 복구 가능성

우선 발생한 오류가 복구 가능한지 부터 알아야 한다.

## 1) 복구 가능한 오류

네트워크 오류나 log파일에 기록하는데 있어서 오류가 발생한 경우, 사용자가 잘못된 값을 입력한 경우에 발생하는 오류는 복구 가능해야 할 것이다. 

## 2) 복구할 수 없는 오류

`enum` 의 내용에 따라 `if-else` 문을 사용하는 경우를 생각해보자.  

개발자가 `enum`의 한 경우를 처리하는 것을 깜빡한 경우 딱히 시스템적으로 이를 해결할 합리적인 방안이 없다. 

즉, 개발자가 코드의 어느 부분에서 뭔가를 망쳐놓은 경우 복구할 수 없는 오류가 발생한다 볼 수 있다. 

# 2. 신속하고 요란한 실패

컴파일 에러가 가장 좋은 예시라 생각한다.  

일단 어느 부분이 잘못되었는지 바로바로 신속하게 알 수 있고, 컴파일 조차 되지 않는 엄청난 요란함은 잘못되었음에도 불구하고 계속 실행해 코드의 다른 곳에서 문제를 일으키는 상황과 매우 거리가 멀다. 

물론 클라이언트의 요청에 대해 오류가 발생해 전체 서버가 멈추는 것은 바람직하지 않다.  

이런 견고함과 요란스러운 실패를 적절히 양립시키는게 중요하다. 

## 오류를 숨기지 않는 안좋은 예시

- 기본값 반환
- 널 객체 패턴
- 아무것도 하지 않음

# 3. 명시적/암시적 예외 전달 방법
